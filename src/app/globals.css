@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary: #3b82f6;
  --primary-foreground: #ffffff;
  --secondary: #f1f5f9;
  --secondary-foreground: #0f172a;
  --accent: #f59e0b;
  --accent-foreground: #ffffff;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  --border: #e2e8f0;
  --input: #ffffff;
  --ring: #3b82f6;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --secondary: #1e293b;
    --secondary-foreground: #f1f5f9;
    --accent: #f59e0b;
    --accent-foreground: #ffffff;
    --destructive: #ef4444;
    --destructive-foreground: #ffffff;
    --border: #334155;
    --input: #1e293b;
    --ring: #3b82f6;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  min-width: 320px;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* 游戏平台特定样式 */
.game-container {
  @apply w-full h-full min-h-[400px] bg-gray-50 rounded-lg border border-gray-200 relative overflow-hidden;
}

.game-card {
  @apply bg-white rounded-xl shadow hover:shadow-xl transition-all duration-200 cursor-pointer overflow-hidden;
}

.game-card:hover {
  transform: translateY(-4px);
}

.game-card:active {
  transform: scale(0.95);
}

/* 游戏大厅网格布局 */
.games-grid {
  @apply grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4;
}

/* 游戏信息卡片 */
.game-info {
  @apply p-4 space-y-2;
}

.game-title {
  @apply text-lg font-semibold text-gray-900 truncate;
}

.game-description {
  @apply text-sm text-gray-600 line-clamp-2;
}

.game-meta {
  @apply flex items-center justify-between text-xs text-gray-500;
}

/* 分数显示 */
.score-display {
  @apply bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-bold text-lg;
}

.high-score {
  @apply text-yellow-500 font-bold;
}

/* 按钮样式 */
.btn-primary {
  @apply bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-optimized gpu-accelerated;
}

.btn-secondary {
  @apply bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-lg transition-optimized gpu-accelerated;
}

.btn-danger {
  @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-optimized gpu-accelerated;
}

/* 导航样式 */
.nav-link {
  @apply text-gray-600 hover:text-blue-600 font-medium transition-optimized;
}

.nav-link.active {
  @apply text-blue-600 border-b-2 border-blue-600;
}

/* 响应式游戏布局 */
@media (max-width: 640px) {
  .game-container {
    @apply min-h-[300px];
  }
  
  .games-grid {
    @apply grid-cols-1 gap-3;
  }
  
  .game-card {
    @apply shadow-sm;
  }
}

/* 320px 最小宽度支持 */
@media (max-width: 320px) {
  .game-container {
    @apply min-h-[250px];
  }
  
  .game-info {
    @apply p-3;
  }
  
  .game-title {
    @apply text-base;
  }
  
  /* 确保在320px宽度下内容不会溢出 */
  body {
    min-width: 320px;
  }
  
  /* 调整导航栏在极小屏幕上的显示 */
  .nav-title {
    @apply text-base;
  }
  
  /* 调整游戏卡片间距 */
  .games-grid {
    @apply gap-2;
  }
  
  /* 调整按钮大小 */
  .btn-primary, .btn-secondary, .btn-danger {
    @apply py-1.5 px-3 text-sm;
  }
  
  /* 调整标签大小 */
  .game-tag {
    @apply px-1.5 py-0.5 text-xs;
  }
}

/* 加载动画 */
@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translate3d(20px, 0, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-pulse-slow {
  animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-slide-in-up {
  animation: slideInUp 0.3s ease-out;
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

/* 性能优化的过渡效果 */
.transition-optimized {
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, opacity;
}

.transition-optimized:hover {
  transform: translateY(-2px);
}

/* 硬件加速 */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* 游戏控制按钮 */
.game-controls {
  @apply flex items-center justify-center gap-2 p-4 bg-gray-50 border-t border-gray-200;
}

.control-btn {
  @apply p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors duration-200;
}

.control-btn:active {
  @apply bg-gray-100;
}

.control-btn.disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* 错误和成功状态 */
.error-message {
  @apply bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg;
}

.success-message {
  @apply bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg;
}

.warning-message {
  @apply bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg;
}

/* 模态框样式 */
.modal-overlay {
  @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal-content {
  @apply bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6;
}

/* 工具提示 */
.tooltip {
  @apply absolute z-10 px-2 py-1 text-sm text-white bg-gray-900 rounded shadow-lg opacity-0 pointer-events-none transition-opacity duration-200;
}

.tooltip.show {
  @apply opacity-100;
}